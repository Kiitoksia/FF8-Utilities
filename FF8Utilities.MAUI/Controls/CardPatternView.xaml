<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:common="clr-namespace:FF8Utilities.Common.Cards;assembly=FF8Utilities.Common"
             xmlns:c="clr-namespace:FF8Utilities.MAUI.Controls"
             xmlns:scg="clr-namespace:System.Collections.Generic;assembly=System.Runtime"
             xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
             x:Name="this"
             x:Class="FF8Utilities.MAUI.Controls.CardPatternView">
    <ContentView.Resources>
        <toolkit:MathExpressionConverter x:Key="MathExpressionConverter"/>
    </ContentView.Resources>
    <CollectionView ItemsSource="{Binding ., Mode=OneWay}">
        <CollectionView.ItemsLayout>
            <GridItemsLayout Orientation="Vertical" Span="3"/>
        </CollectionView.ItemsLayout>
        <CollectionView.ItemTemplate>
            <DataTemplate>
                <c:CardPatternPositionView BindingContext="{Binding ., Mode=OneWay}" HeightRequest="{Binding Height, Source={x:Reference this}, Converter={StaticResource MathExpressionConverter}, ConverterParameter='x/3'}"/>
            </DataTemplate>
        </CollectionView.ItemTemplate>
    </CollectionView>
</ContentView>
