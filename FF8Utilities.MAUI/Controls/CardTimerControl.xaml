<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml" 
             xmlns:models="clr-namespace:FF8Utilities.MAUI.Models" 
             xmlns:skia="clr-namespace:SkiaSharp.Views.Maui.Controls;assembly=SkiaSharp.Views.Maui.Controls" 
             x:DataType="models:CardManipulationModel"
             xmlns:buttons="clr-namespace:Syncfusion.Maui.Buttons;assembly=Syncfusion.Maui.Buttons"
             x:Class="FF8Utilities.MAUI.Controls.CardTimerControl">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition/>
        </Grid.RowDefinitions>

        <VerticalStackLayout>
            <Label Text="{Binding Explanation, Mode=OneWay}" HorizontalTextAlignment="Center"/>
            <Entry
            x:Name="RecoveryEntry"
            ClearButtonVisibility="WhileEditing"
            HorizontalOptions="Fill"
            Keyboard="Numeric"
            Placeholder="Enter cards for recovery or 1st try search"
                PlaceholderColor="Gray"
            Text="{Binding RecoveryPattern}"            
            ReturnCommand="{Binding SubmitCommand, Mode=OneTime}"
            TextColor="White" />
            <Label Text="{Binding FoundCards, Mode=OneWay}" />
            <Label Text="{Binding ErrorText, Mode=OneWay}"/>
        </VerticalStackLayout>



        <VerticalStackLayout Grid.Row="1" VerticalOptions="Fill">
            <skia:SKCanvasView PaintSurface="SKCanvasView_PaintSurface" HeightRequest="30" HorizontalOptions="Fill" x:Name="SnakeView"/>

            <Border BackgroundColor="{Binding InstantMashBackgroundMaui, Mode=OneWay}" IsVisible="{Binding ShowInstantMashText, Mode=OneWay}" Padding="5">
                <HorizontalStackLayout HorizontalOptions="Center">
                    <Label Text="Instant Mash:"/>
                    <Label Text="{Binding FirstFrameAvailableFramesDisplay, Mode=OneWay}" Margin="5,0"/>
                    <Label Text="{Binding InstantMashFramesAvailable, StringFormat='({0} frames)', Mode=OneWay}"/>
                </HorizontalStackLayout>
            </Border>
        </VerticalStackLayout>

        <buttons:SfButton Command="{Binding SubmitCommand, Mode=OneTime}" Text="Submit" Margin="5" VerticalOptions="Fill" Grid.Row="2" FontSize="Large"/>

    </Grid>
    
</ContentView>
